<div>
  <ngx-datatable
    #mydatatable
    class="material"
    [headerHeight]="50"
    [limit]="10"
    [columnMode]="'force'"
    [footerHeight]="50"
    [rowHeight]="'auto'"
    [rows]="rows">
    <ngx-datatable-column name="姓名" prop="name">
      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
            <span title="双击修改" (dblclick)="editing[rowIndex + '-name'] = true" *ngIf="!editing[rowIndex + '-name']">
              {{value}}
            </span>
        <input autofocus (blur)="updateValue($event, 'name', rowIndex)" *ngIf="editing[rowIndex+ '-name']"
               type="text" [value]="value"/>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="性别" prop="gender">
      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
             <span title="双击修改" (dblclick)="editing[rowIndex + '-gender'] = true"
                   *ngIf="!editing[rowIndex + '-gender']">
              {{value}}
            </span>
        <select *ngIf="editing[rowIndex + '-gender']" (change)="updateValue($event, 'gender', rowIndex)"
                [value]="value">
          <option value="male">男</option>
          <option value="female">女</option>
        </select>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="年龄" prop="age">
      <ng-template ngx-datatable-cell-template let-value="value">
        {{value}}
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column>
      <ng-template ngx-datatable-cell-template let-value="value">
        <button class="btn btn-default" (click)="openModal(value);">修改</button>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
</div>
